---

#Tomcat Steps     
     - name: check tomcat service exist or not
       command: "kubectl get services -l app=tomcat1"
       register: found_service_tomcat

     - name: remove tomcat service
       command: "kubectl delete services tomcat1"
       when: found_service_tomcat.stdout != ""

     - name: check tomcat deployment exist or not
       command: "kubectl get deployments -l app=tomcat1"
       register: found_deployment_tomcat

     - name: remove tomcat deployment
       command: "kubectl delete deployments tomcat1"
       when: found_deployment_tomcat.stdout != ""

     - name: Find out playbooks path
       shell: pwd
       register: playbook_path_output
     - name: copy tomcat yml file to host location
       copy:
         src: tomcat.yml
         dest: "tomcat.yml"
       
     - name: create tomcat service/deployment from tomcat file
       command: "kubectl create -f tomcat.yml"
